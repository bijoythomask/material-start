<ng-container *ngIf="flexLayout$ | async as flexSettings">
  <mat-toolbar>
    <span>Recipes</span>
    <span class="spacer"></span>
    <button routerLink="/recipes/new" mat-mini-fab color="accent">
      <mat-icon>add</mat-icon>
    </button>
  </mat-toolbar>

  <mat-grid-list
    cols="{{ flexSettings.col }}"
    rowHeight="{{ flexSettings.height }}px"
  >
    <mat-grid-tile *ngFor="let i = index; let recipe; of: recipes$ | async">
      <mat-card class="recipe-card">
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ recipe.name }}</mat-card-title>
          </mat-card-title-group>
        </mat-card-header>
        <img
          mat-card-image
          *ngIf="recipe.imageURL != null"
          src="{{ recipe.imageURL }}"
        />
        <mat-card-actions>
          <button
            mat-button
            color="primary"
            [routerLink]="['/recipes', recipe.id]"
          >
            Details
          </button>
          <button mat-button color="accent">Edit</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</ng-container>
